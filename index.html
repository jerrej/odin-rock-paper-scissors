<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Odin Rock Paper Scissors</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://kit.fontawesome.com/c91d7ef7d0.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">
        <header>
            <div class="header">
                <h1>Odin Rock Paper Scissors </h1>
            </div>
        </header>
        <main>
            <div class="content">
                <div class="hand" id="rock">
                    <i class="fa-regular fa-hand-rock" onclick='choose("rock")'></i>
                </div>
                <div class="hand" id="paper">
                    <i class="fa-regular fa-hand-paper" onclick='choose("paper")'></i>
                </div>
                <div class="hand" id="scissors">
                    <i class="fa-regular  fa-hand-scissors" onclick='choose("scissors")'></i>
                </div>
            </div>
            <div class="content">
                <div class="score">
                    <h2 id="pscore"></h2>
                </div>
                <div class="output">
                    <p id="output"></p>
                </div>
                <div class="score">
                    <h2 id="cscore"></h2>
                </div>
            </div>

        </main>
        <footer>
            <div class="footer">

            </div>
        </footer>
    </div>
</body>

</html>

<script>

    function test() {
        console.log("hooray");
    }

    function random(min, max) {
        return Math.floor(Math.random() * (max - min)) + min;
    }

    function getComputerChoice() {
        var choice = random(0, 3);
        console.log("Random function returned " + choice);

        switch (choice) {
            case 0:
                return "rock";
                break;
            case 1:
                return "paper";
                break;
            case 2:
                return "scissors";
                break;
            default:
                console.log("Something's gone wrong here!");
                break;
        }
    }

    function playRound(playerselection, computerselection) {
        console.log("Computer chose " + computerselection);
        console.log("You chose " + playerselection);

        switch (playerselection + computerselection) {
            case "rockrock":
                output.innerHTML += "You chose rock.<br>Computer chose rock.<br>Tie!<br>"
                return "Tie!";
                break;
            case "rockpaper":
                computerScore++;
                output.innerHTML += "You chose rock.<br>Computer chose paper.<br>You lost!<br>"
                return "You lost!";
                break;
            case "rockscissors":
                playerScore++;
                output.innerHTML += "You chose rock.<br>Computer chose scissors.<br>You won!<br>"
                return "You won!";
                break;
            case "paperrock":
                playerScore++;
                output.innerHTML += "You chose paper.<br>Computer chose rock.<br>You won!<br>"
                return "You won!";
                break;
            case "paperpaper":
                output.innerHTML += "You chose paper.<br>Computer chose paper.<br>Tie!<br>"
                return "Tie!";
                break;
            case "paperscissors":
                computerScore++;
                output.innerHTML += "You chose paper.<br>Computer chose scissors.<br>You lost!<br>"
                return "You lost!";
                break;
            case "scissorsrock":
                computerScore++;
                output.innerHTML += "You chose scissors.<br>Computer chose rock.<br>You lost!<br>"
                return "You lost!";
                break;
            case "scissorspaper":
                playerScore++;
                output.innerHTML += "You chose scissors.<br>Computer chose paper.<br>You won!<br>"
                return "You won!";
                break;
            case "scissorsscissors":
                output.innerHTML += "You chose scissors.<br>Computer chose scissors.<br>Tie!<br>"
                return "Tie!";
                break;
            default:
                console.log("Something's gone wrong here!");
                break;
        }
    }

    function newGame() {
        playerScore = 0;
        computerScore = 0;
        console.log("Starting new game.");
        output.innerHTML += "Starting new game.<br>";
        pscore.innerHTML = "You: <br><br>" + playerScore;
        cscore.innerHTML = "Computer: <br><br>" + computerScore;
    };

    function choose(playerselection) {
        var playerSelection = playerselection;
        var computerSelection = getComputerChoice();
        var roundResult = playRound(playerSelection, computerSelection);
        console.log(roundResult);
        console.log("You: " + playerScore + " | Computer: " + computerScore)
        pscore.innerHTML = "You: <br><br>" + playerScore;
        cscore.innerHTML = "Computer: <br><br>" + computerScore;
        if (playerScore > 2) {
            output.innerHTML += "You won this best-out-of-five!<br>"
            console.log("You won this best-out-of-five.");
            newGame();
        } else if (computerScore > 2) {
            output.innerHTML += "You lost this best-out-of-five!<br>"
            console.log("Computer won this best-out-of-five.");
            newGame();
        }
    }

    var output = document.getElementById("output");
    var pscore = document.getElementById("pscore");
    var cscore = document.getElementById("cscore");
    var playerScore;
    var computerScore;
    newGame();

</script>